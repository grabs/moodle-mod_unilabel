{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template unilabeltype_imageboard/imageboard_preview
    Template to show an imageboard with images.

    Example context (json):
    {
        "showintro": false,
        "intro": "",
        "images": [
            {
                "title": "",
                "url": "http://localhost/mod/forum/view.php?id=136",
                "newwindow": 1,
                "xposition": "150",
                "yposition": "100",
                "targetwidth": "80",
                "targetheight": "0",
                "fontsize": "12",
                "imageurl": "http://localhost/image1.png",
                "nr": 0
            },
            {
                "title": "",
                "url": "",
                "newwindow": 1,
                "xposition": "400",
                "yposition": "200",
                "targetwidth": "0",
                "targetheight": "0",
                "fontsize": "12",
                "imageurl": "http://localhost/image2.png",
                "nr": 1
            }
        ],
        "hasimages": true,
        "titlecolor": "#00ff00",
        "titlebackgroundcolor": "#0000ff",
        "cmid": "140",
        "canvaswidth": "500",
        "autoscale": false,
        "canvasheight": "600",
        "autocanvasheight": false,
        "backgroundimage": "",
        "capababilityforgrid": true,
        "bordercolor": "#2D57FA",
        "border": "4",
        "borderradius": "20",
        "gridcolor": "#B7009E"
    }
}}

<div id="unilabel-imageboard-preview">
    <div id="unilabel-imageboard-background-canvas" style="position: relative;">
        <div id="imageboardcontainer">
            <div></div>
        </div>
    </div>

</div>

{{> unilabeltype_imageboard/imageboard_imagesettingsdialog }}

<div class="unilabeltype-imageboard-controllbuttons d-flex flex-column mt-2">
    <div class="unilabel-imageboard-gridtoggler">
        <a class="unilabeltype-imageboard-controllbutton" href="#" id="unilabeltype-imageboard-gridtoggler-{{cmid}}">
            <i class="fa fa-th fa-fw"></i> <span class="unilabeltype-imageboard-toggle-text">{{#str}} buttonlabelhelpergridhide, unilabeltype_imageboard {{/str}}</span>
        </a>
    </div>



    <div>
        <label for="unilabeltype-imageboard-snap">
            {{#str}} snap, unilabeltype_imageboard {{/str}}
            <input id="unilabeltype-imageboard-snap" type="number"
                   min="1" max="100" step="1" value="1"
                   inputmode="decimal">
        </label>
    </div>
</div>

{{#js}}
    require(['unilabeltype_imageboard/imageboardpreviewrenderer'], function(imageboardpreviewrenderer) {
        imageboardpreviewrenderer.init(
            '{{canvaswidth}}',
            '{{canvasheight}}',
            '{{gridcolor}}',
            '{{xsteps}}',
            '{{ysteps}}'
        );
    });
{{/js}}
