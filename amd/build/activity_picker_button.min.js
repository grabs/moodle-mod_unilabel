define("mod_unilabel/activity_picker_button",["exports","jquery","core/log"],(function(_exports,_jquery,_log){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_log=_interopRequireDefault(_log);var _systemImportTransformerGlobalIdentifier="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_exports.init=async(formid,inputidbase,labelidbase)=>{const str=await("function"==typeof _systemImportTransformerGlobalIdentifier.define&&_systemImportTransformerGlobalIdentifier.define.amd?new Promise((function(resolve,reject){_systemImportTransformerGlobalIdentifier.require(["core/str"],resolve,reject)})):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&_systemImportTransformerGlobalIdentifier.require&&"component"===_systemImportTransformerGlobalIdentifier.require.loader?Promise.resolve(require("core/str")):Promise.resolve(_systemImportTransformerGlobalIdentifier["core/str"])),deletestr=await str.get_string("delete"),inputswitcher=await("function"==typeof _systemImportTransformerGlobalIdentifier.define&&_systemImportTransformerGlobalIdentifier.define.amd?new Promise((function(resolve,reject){_systemImportTransformerGlobalIdentifier.require(["mod_unilabel/activity_picker_input_switcher"],resolve,reject)})):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&_systemImportTransformerGlobalIdentifier.require&&"component"===_systemImportTransformerGlobalIdentifier.require.loader?Promise.resolve(require("mod_unilabel/activity_picker_input_switcher")):Promise.resolve(_systemImportTransformerGlobalIdentifier["mod_unilabel/activity_picker_input_switcher"]));let maybeactivityelement,links=document.querySelector("#unilabel-activity-picker-list").querySelectorAll("a.activity-picker-link");_log.default.debug("Get all picker-button-links");let pickerbuttons=document.querySelectorAll("a.unilabel-picker-button-link");_log.default.debug(pickerbuttons),pickerbuttons.forEach((el=>{try{let id=el.parentElement.parentElement.parentElement.id.split("_").slice(-1);if(id){let currentinput=document.querySelector("#"+inputidbase+id);_log.default.debug(currentinput.value),links.forEach((link=>{if(link.href==currentinput.value){let activitylinksrc=link.closest(".activitytitle");if(maybeactivityelement=currentinput.parentElement.querySelector("div.activitytitle.unilabel-input-replacement"),maybeactivityelement)return;inputswitcher.switchInput(currentinput,null,activitylinksrc,currentinput.value,!1,deletestr)}}))}}catch(error){_log.default.debug(error)}})),(0,_jquery.default)('[data-button="'+formid+'"]').on("click",(function(event){event.preventDefault();var currenturltitleinput,id=(0,_jquery.default)(this).parent().parent().parent().attr("id").split("_").slice(-1),currentinput=inputidbase+id;currenturltitleinput=""==labelidbase?"":labelidbase+id,(0,_jquery.default)("#unilabel-modal-activity-picker-"+formid).attr("data-inputid",currentinput),(0,_jquery.default)("#unilabel-modal-activity-picker-"+formid).attr("data-labelid",currenturltitleinput),(0,_jquery.default)("#unilabel-modal-activity-picker-"+formid).modal("show")}))}}));

//# sourceMappingURL=activity_picker_button.min.js.map